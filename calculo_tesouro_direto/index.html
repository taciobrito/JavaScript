<!DOCTYPE html>
<html>
<head>
	<title>Tesouro Direto x Poupança</title>

	<link rel="stylesheet" type="text/css" href="estilo.css">


<script type="text/javascript" src="jquery.min.js"></script>
</head>
<body>

<div class="geral">
	

	<div class="div">
	<h3>Simulador - Tesouro Direto x Poupança</h3>

		<form>
			<fieldset>
				<legend>Digite os dados do formulário</legend>
				
				<label for="valor">Valor para investir</label>
				<input type="text" class="valor" />
				
				<label>Invetir</label>
				<select class="tipo" size="2">
					<option value="mes" selected>POR MÊS</option>
					<option value="fixo">VALOR FIXO</option>
				</select>
				<div class="periododiv">
					<label for="periodo">Período de investimento</label>
					<input type="number" class="periodo" />
				</div>

				<button type="button" class="calcular">Calcular</button>
			</fieldset>

		</form>

	</div>

	<div class="div">
		<h3>Resultado</h3>
		<table class="table resultado">
			<tr>
				<th>Período</th>
				<th>Tesouro Direto</th>
				<th>Poupança</th>
			</tr>
		</table>

	</div>

</div>

<div class="footer">
	<h4>Desenvolvido por: Tácio Brito</h4>
</div>

<script>
	
	function calcular(valor, periodo, tipo){
		var total_tesouro = valor, total_poupanca = valor, tx_selic = (13.65/12)/100, tx_poupanca = (6.17/12)/100;

		console.log(total_tesouro * tx_selic +" - "+ total_poupanca * tx_poupanca);
		console.log(tx_selic);

		if(tipo == "mes"){
			for(var count = 1; count <= periodo; count++){
				console.log(total_tesouro);
				total_tesouro = total_tesouro + (total_tesouro * tx_selic);
				total_poupanca = total_poupanca + (total_poupanca * tx_poupanca);
				$(".resultado").append("<tr>"+
											"<td>" + count + "</td>"+
											"<td>" + total_tesouro + "</td>"+
											"<td>" + total_poupanca + "</td>"+
										"</tr>");
				console.log(total_tesouro);
			}
		}


	}
	
	var valor, periodo;
	var tipo = $(".tipo").val();

	$(".tipo").on("change", function (){
		tipo = $(".tipo").val();
	});

	$(".calcular").on("click", function(){
		valor = $(".valor").val();
		periodo = $(".periodo").val();

		if(valor == null || valor <= 0){
			alert("Preencha com um número maior que 0!");
		} else if (periodo == null || periodo <= 0){
			alert("Preencha com um número maior que 0!");
		} else {
			calcular(valor, periodo, tipo);
		}

	});

</script>

</body>
</html>